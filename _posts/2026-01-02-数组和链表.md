---
layout: post
title: "数组与链表基础"
date: 2026-01-02 10:00:00
tags: [数据结构, 数组, 链表]
---

# 数组与链表基础

## 一、数组（Array）

数组是一种线性数据结构，使用连续的内存空间存储相同类型的元素。

<!--more-->

### 特点

- **随机访问**：O(1) 时间复杂度
- **插入/删除**：O(n) 时间复杂度（需要移动元素）
- **内存连续**：缓存友好

### 代码示例

```python
# Python 数组操作
arr = [1, 2, 3, 4, 5]

# 访问元素 O(1)
element = arr[2]  # 值为 3

# 插入元素 O(n)
arr.insert(2, 10)  # [1, 2, 10, 3, 4, 5]

# 删除元素 O(n)
arr.pop(2)  # [1, 2, 3, 4, 5]

# 遍历数组 O(n)
for item in arr:
    print(item)
```

```java
// Java 数组操作
int[] arr = new int[5];
arr[0] = 1;
arr[1] = 2;

// 访问元素
int element = arr[0];  // O(1)

// 使用 ArrayList 动态数组
ArrayList<Integer> list = new ArrayList<>();
list.add(1);
list.add(2);
list.add(1, 10);  // 在索引1处插入
list.remove(1);   // 删除索引1的元素
```

---

## 二、链表（Linked List）

链表是一种线性数据结构，由节点组成，每个节点包含数据和指向下一个节点的指针。

### 类型

1. **单向链表**：每个节点只有一个指向下一个节点的指针
2. **双向链表**：每个节点有两个指针，分别指向前一个和后一个节点
3. **循环链表**：尾节点指向头节点

### 特点

- **顺序访问**：O(n) 时间复杂度
- **插入/删除**：O(1) 时间复杂度（已知位置时）
- **内存不连续**：灵活分配

### 代码示例

```python
# Python 单向链表实现
class ListNode:
    def __init__(self, val=0, next=None):
        self.val = val
        self.next = next

class LinkedList:
    def __init__(self):
        self.head = None
    
    # 在头部插入 O(1)
    def insert_at_head(self, val):
        new_node = ListNode(val)
        new_node.next = self.head
        self.head = new_node
    
    # 在尾部插入 O(n)
    def insert_at_tail(self, val):
        new_node = ListNode(val)
        if not self.head:
            self.head = new_node
            return
        curr = self.head
        while curr.next:
            curr = curr.next
        curr.next = new_node
    
    # 删除节点 O(n)
    def delete(self, val):
        if not self.head:
            return
        if self.head.val == val:
            self.head = self.head.next
            return
        curr = self.head
        while curr.next and curr.next.val != val:
            curr = curr.next
        if curr.next:
            curr.next = curr.next.next
    
    # 遍历链表 O(n)
    def traverse(self):
        curr = self.head
        while curr:
            print(curr.val, end=" -> ")
            curr = curr.next
        print("None")
```

```java
// Java 单向链表节点
class ListNode {
    int val;
    ListNode next;
    
    ListNode(int val) {
        this.val = val;
        this.next = null;
    }
}

// 链表操作示例
public class LinkedList {
    private ListNode head;
    
    // 在头部插入
    public void insertAtHead(int val) {
        ListNode newNode = new ListNode(val);
        newNode.next = head;
        head = newNode;
    }
    
    // 反转链表
    public ListNode reverse() {
        ListNode prev = null;
        ListNode curr = head;
        while (curr != null) {
            ListNode next = curr.next;
            curr.next = prev;
            prev = curr;
            curr = next;
        }
        return prev;
    }
}
```

---

## 三、数组 vs 链表对比

| 操作 | 数组 | 链表 |
|------|------|------|
| 随机访问 | O(1) | O(n) |
| 头部插入 | O(n) | O(1) |
| 尾部插入 | O(1) 摊还 | O(n) 或 O(1) |
| 中间插入 | O(n) | O(n) |
| 删除 | O(n) | O(n) |
| 空间 | 紧凑 | 额外指针开销 |

### 使用场景

- **数组**：需要频繁随机访问、数据量固定
- **链表**：需要频繁插入删除、数据量动态变化
